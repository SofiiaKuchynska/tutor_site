<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ—Ç–æ–¥–∏—á–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫: Radical Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']]
            },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; overflow: hidden; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .task-card { border: 1px solid #e2e8f0; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .task-card:hover { border-color: #3b82f6; box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.1); }
        .whiteboard-container { background-image: radial-gradient(#e2e8f0 1px, transparent 1px); background-size: 20px 20px; }
        .tool-active { @apply bg-blue-600 text-white shadow-md; }
        .solved-card { border-color: #22c55e !important; background-color: #f0fdf4 !important; }
        .final-test-section { background: #0f172a; color: white; border-radius: 3rem; padding: 2.5rem; }
    </style>
</head>
<body class="h-screen flex text-slate-900">

    <div class="w-full lg:w-1/2 flex flex-col bg-white border-r border-slate-200">
        <header class="p-6 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white/80 backdrop-blur-md z-50">
            <div>
                <h1 class="text-2xl font-extrabold text-slate-800">–ê–ª–≥–µ–±—Ä–∞: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ñ –ö–æ—Ä–µ–Ω—ñ</h1>
                <p class="text-xs font-bold text-blue-500 uppercase tracking-widest mt-1">–ö–ª–∞—Å: 8 ‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—ñ—è —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ ‚Ä¢ 30 –∑–∞–¥–∞—á</p>
            </div>
            <div class="text-right">
                <div class="text-xs font-black text-slate-400 mb-1" id="prog-label">–ü—Ä–æ–≥—Ä–µ—Å: 0/30</div>
                <div class="w-32 h-2 bg-slate-100 rounded-full overflow-hidden">
                    <div id="prog-bar" class="h-full bg-blue-600 transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto p-8 space-y-12 custom-scrollbar">
            <section>
                <details class="group bg-blue-50/50 rounded-3xl border border-blue-100 p-2">
                    <summary class="flex items-center justify-between p-4 cursor-pointer font-bold text-blue-900">
                        <span>üìñ –®–ø–∞—Ä–≥–∞–ª–∫–∞: –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –∫–æ—Ä–µ–Ω—è</span>
                        <span class="transition-transform group-open:rotate-180">‚ñº</span>
                    </summary>
                    <div class="p-4 pt-0 space-y-3 text-sm text-slate-700 leading-relaxed">
                        <p>1. \( \sqrt{a^2} = |a| \)</p>
                        <p>2. \( \sqrt{a} \cdot \sqrt{b} = \sqrt{ab} \)</p>
                        <p>3. \( \sqrt{\frac{a}{b}} = \frac{\sqrt{a}}{\sqrt{b}} \)</p>
                        <p>4. –í–∫–ª–∞–¥–µ–Ω—ñ –∫–æ—Ä–µ–Ω—ñ: \( \sqrt{a + \sqrt{b}} \) —Ä–æ–∑–≤‚Äô—è–∑—É–π –∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ.</p>
                    </div>
                </details>
            </section>

            <div id="tasks-list" class="space-y-10"></div>

            <div id="test-zone" class="hidden py-10">
                <div class="final-test-section shadow-2xl">
                    <h2 class="text-3xl font-black mb-6 text-blue-400">üèÜ –§–Ü–ù–ê–õ–¨–ù–ò–ô –¢–ï–°–¢</h2>
                    <div id="test-questions" class="space-y-8"></div>
                    <button onclick="checkTest()" class="mt-10 w-full bg-blue-600 text-white py-4 rounded-2xl font-bold hover:bg-blue-500 transition">–ü–ï–†–ï–í–Ü–†–ò–¢–ò –¢–ï–°–¢</button>
                </div>
            </div>

            <div class="py-10">
                <button onclick="finishLesson()" class="w-full bg-slate-900 text-white py-6 rounded-3xl font-black text-xl hover:bg-blue-600 transition shadow-xl active:scale-[0.98]">
                    –ó–ê–í–ï–†–®–ò–¢–ò –£–†–û–ö
                </button>
            </div>
        </main>
    </div>

    <div class="hidden lg:flex w-1/2 flex-col bg-slate-50 p-6 relative">
        <div class="absolute top-10 left-1/2 -translate-x-1/2 z-40 flex items-center gap-2 bg-white/90 backdrop-blur-md p-3 rounded-2xl shadow-xl border border-slate-200">
            <button onclick="setTool('pen')" id="btn-pen" class="p-3 rounded-xl tool-active">‚úèÔ∏è</button>
            <button onclick="setTool('eraser')" id="btn-eraser" class="p-3 rounded-xl hover:bg-slate-100">üßΩ</button>
            <div class="w-px h-6 bg-slate-200 mx-1"></div>
            <button onclick="clearCanvas()" class="px-4 py-2 text-[10px] font-black text-red-500 hover:bg-red-50 rounded-xl uppercase">–û—á–∏—Å—Ç–∏—Ç–∏</button>
        </div>
        <div class="flex-1 whiteboard-container bg-white rounded-[2.5rem] shadow-inner border border-slate-200 overflow-hidden relative" id="canvas-parent">
            <canvas id="whiteboard" class="cursor-crosshair"></canvas>
        </div>
    </div>

    <div id="modal" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-6">
        <div class="bg-white rounded-[3rem] p-12 max-w-sm w-full text-center shadow-2xl">
            <div class="text-7xl mb-6">üéØ</div>
            <h2 class="text-3xl font-black text-slate-800 mb-2">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            <p id="res-score" class="text-blue-600 font-black text-2xl mb-4"></p>
            <p id="res-msg" class="text-slate-500 mb-10 italic"></p>
            <button onclick="location.reload()" class="w-full bg-slate-900 text-white py-5 rounded-2xl font-bold hover:bg-blue-600 transition">–ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
        </div>
    </div>

<script>
    // –ë–ê–ó–ê –î–ê–ù–ò–• (–¢–≤–æ—ó –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ + –Ω–æ–≤—ñ —Å–∫–ª–∞–¥–Ω—ñ)
    const tasksData = [
        // 14.9
        { n: "14.9(1)", q: "\\( \\sqrt{25} \\)", a: "5", h: "5 * 5 = ?", s: "5" },
        { n: "14.9(2)", q: "\\( \\sqrt{36} \\)", a: "6", h: "6^2 = ?", s: "6" },
        { n: "14.9(3)", q: "\\( \\sqrt{0,16} \\)", a: "0,4", h: "–ú–∞—î –±—É—Ç–∏ –æ–¥–∏–Ω –∑–Ω–∞–∫ –ø—ñ—Å–ª—è –∫–æ–º–∏", s: "0,4" },
        { n: "14.9(4)", q: "\\( \\sqrt{4900} \\)", a: "70", h: "sqrt(49) * 10", s: "70" },
        { n: "14.9(5)", q: "\\( \\sqrt{0,04} \\)", a: "0,2", h: "0,2 * 0,2", s: "0,2" },
        { n: "14.9(6)", q: "\\( \\sqrt{1/64} \\)", a: "1/8", h: "sqrt(1)/sqrt(64)", s: "1/8" },
        { n: "14.9(7)", q: "\\( \\sqrt{1\\frac{11}{25}} \\)", a: "1,2", h: "sqrt(36/25) = 6/5", s: "1,2" },
        { n: "14.9(8)", q: "\\( \\sqrt{3\\frac{1}{16}} \\)", a: "1,75", h: "sqrt(49/16) = 7/4", s: "1,75" },
        // 14.10
        { n: "14.10(1)", q: "–ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: \\( \\sqrt{900} = 30 \\)? (—Ç–∞–∫/–Ω—ñ)", a: "—Ç–∞–∫", h: "30*30=900", s: "—Ç–∞–∫" },
        { n: "14.10(2)", q: "–ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: \\( \\sqrt{4} = -2 \\)? (—Ç–∞–∫/–Ω—ñ)", a: "–Ω—ñ", h: "–ö–æ—Ä—ñ–Ω—å –Ω–µ –±—É–≤–∞—î –≤—ñ–¥'—î–º–Ω–∏–º", s: "–Ω—ñ" },
        { n: "14.10(3)", q: "–ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: \\( \\sqrt{0,9} = 0,3 \\)? (—Ç–∞–∫/–Ω—ñ)", a: "–Ω—ñ", h: "0,3*0,3=0,09", s: "–Ω—ñ" },
        { n: "14.10(4)", q: "–ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: \\( \\sqrt{0,64} = 0,8 \\)? (—Ç–∞–∫/–Ω—ñ)", a: "—Ç–∞–∫", h: "0,8^2=0,64", s: "—Ç–∞–∫" },
        // 14.11
        { n: "14.11(1)", q: "\\( \\sqrt{1296} \\)", a: "36", h: "30^2=900, 40^2=1600", s: "36" },
        { n: "14.11(2)", q: "\\( \\sqrt{9409} \\)", a: "97", h: "–ë–ª–∏–∑—å–∫–æ –¥–æ 100^2", s: "97" },
        { n: "14.11(4)", q: "\\( \\sqrt{30,25} \\)", a: "5,5", h: "50^2=2500, 60^2=3600", s: "5,5" },
        // 14.12
        { n: "14.12(1)", q: "\\( \\sqrt{64} + \\sqrt{25} \\)", a: "13", h: "8 + 5", s: "13" },
        { n: "14.12(3)", q: "\\( 2\\sqrt{100} - \\sqrt{144} \\)", a: "8", h: "2*10 - 12", s: "8" },
        { n: "14.12(6)", q: "\\( \\sqrt{5^2 - 25} \\)", a: "0", h: "sqrt(25-25)", s: "0" },
        // 14.16
        { n: "14.16(1)", q: "–†—ñ–≤–Ω—è–Ω–Ω—è: \\( \\sqrt{x} = 2 \\)", a: "4", h: "x = 2^2", s: "4" },
        { n: "14.16(3)", q: "–†—ñ–≤–Ω—è–Ω–Ω—è: \\( \\sqrt{x} = -2 \\) (—è–∫—â–æ –Ω–µ–º–∞—î, –ø–∏—à–∏ '–Ω–µ–º–∞—î')", a: "–Ω–µ–º–∞—î", h: "–ö–æ—Ä—ñ–Ω—å –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥'—î–º–Ω–∏–º", s: "–Ω–µ–º–∞—î" },
        { n: "14.16(5)", q: "–†—ñ–≤–Ω—è–Ω–Ω—è: \\( 2\\sqrt{x} = 8 \\)", a: "16", h: "sqrt(x) = 4", s: "16" },
        // 14.18
        { n: "14.18(1)", q: "–ß–∏ –º–∞—î –∑–º—ñ—Å—Ç: \\( \\sqrt{12 \\cdot 14 - 13^2} \\)? (—Ç–∞–∫/–Ω—ñ)", a: "–Ω—ñ", h: "168 - 169", s: "–Ω—ñ" },
        
        // --- –ù–û–í–Ü –°–ö–õ–ê–î–ù–Ü –ó–ê–í–î–ê–ù–ù–Ø (23-30) ---
        { n: "BOSS-1", q: "–û–±—á–∏—Å–ª–∏: \\( \\sqrt{1,6 \\cdot 14,4} \\)", a: "4,8", h: "sqrt(16 * 1,44) –∞–±–æ sqrt(0,16 * 144)", s: "sqrt(23,04) = 4,8" },
        { n: "BOSS-2", q: "–û–±—á–∏—Å–ª–∏: \\( \\sqrt{2^{10} \\cdot 0,25} \\)", a: "16", h: "2^5 * 0,5", s: "32 * 0,5 = 16" },
        { n: "BOSS-3", q: "–û–±—á–∏—Å–ª–∏: \\( \\sqrt{13^2 - 12^2} \\)", a: "5", h: "–†—ñ–∑–Ω–∏—Ü—è –∫–≤–∞–¥—Ä–∞—Ç—ñ–≤: (13-12)(13+12)", s: "sqrt(1*25) = 5" },
        { n: "BOSS-4", q: "–°–ø—Ä–æ—Å—Ç–∏: \\( \\sqrt{(\\sqrt{3}-2)^2} + \\sqrt{3} \\)", a: "2", h: "–ü–∞–º'—è—Ç–∞–π: sqrt(a^2) = |a|. –û—Å–∫—ñ–ª—å–∫–∏ sqrt(3) < 2, —Ç–æ |sqrt(3)-2| = 2-sqrt(3)", s: "2-sqrt(3)+sqrt(3) = 2" },
        { n: "BOSS-5", q: "–û–±—á–∏—Å–ª–∏: \\( \\sqrt{3 + \\sqrt{30 + \\sqrt{36}}} \\)", a: "3", h: "–†–∞—Ö—É–π –∑—Å–µ—Ä–µ–¥–∏–Ω–∏: sqrt(36)=6, –¥–∞–ª—ñ 30+6...", s: "sqrt(3+sqrt(36)) = sqrt(3+6) = 3" },
        { n: "BOSS-6", q: "–ó–Ω–∞–π–¥–∏ \( x \): \\( \\sqrt{\\sqrt{x}} = 3 \\)", a: "81", h: "–ó–≤–µ–¥–∏ –¥–æ –∫–≤–∞–¥—Ä–∞—Ç—É –¥–≤—ñ—á—ñ", s: "sqrt(x)=9 => x=81" },
        { n: "BOSS-7", q: "–û–±—á–∏—Å–ª–∏: \\( \\frac{\\sqrt{72} \\cdot \\sqrt{2}}{\\sqrt{16}} \\)", a: "3", h: "sqrt(144)/4", s: "12/4 = 3" },
        { n: "BOSS-8", q: "–ó–Ω–∞–π–¥–∏ –∑–Ω–∞—á–µ–Ω–Ω—è: \\( (2\\sqrt{3})^2 - (3\\sqrt{2})^2 \\)", a: "-6", h: "4*3 - 9*2", s: "12 - 18 = -6" }
    ];

    const testData = [
        { q: "–Ø–∫–µ —á–∏—Å–ª–æ –±—ñ–ª—å—à–µ: \\( 3\\sqrt{5} \\) —á–∏ \\( \\sqrt{46} \\)? (–ø–∏—à–∏ —á–∏—Å–ª–æ)", a: "46" },
        { q: "–†–æ–∑–≤'—è–∂–∏ —Ä—ñ–≤–Ω—è–Ω–Ω—è: \\( \\sqrt{x+2} = 0 \\)", a: "-2" },
        { q: "–û–±—á–∏—Å–ª–∏: \\( \\sqrt{0,4} \\cdot \\sqrt{1000} \\cdot \\sqrt{0,1} \\)", a: "2" }
    ];

    let solvedCount = 0;

    function initTasks() {
        const container = document.getElementById('tasks-list');
        tasksData.forEach((task, idx) => {
            const div = document.createElement('div');
            div.id = `task-${idx}`;
            div.className = "task-card bg-white p-6 rounded-3xl";
            div.innerHTML = `
                <div class="flex justify-between items-start mb-2">
                    <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">${task.n}</span>
                    <span id="check-${idx}" class="hidden text-green-500 font-bold text-xs">‚úî –í–ò–ö–û–ù–ê–ù–û</span>
                </div>
                <div class="text-lg font-semibold text-slate-700 mb-4">${task.q}</div>
                <div class="flex gap-2">
                    <input type="text" id="input-${idx}" onkeypress="if(event.key==='Enter') checkTask(${idx})" class="flex-1 bg-slate-50 rounded-2xl px-4 py-3 border-2 border-transparent focus:border-blue-500 outline-none transition" placeholder="–í—ñ–¥–ø–æ–≤—ñ–¥—å">
                    <button onclick="checkTask(${idx})" class="bg-slate-900 text-white px-5 rounded-2xl font-bold hover:bg-blue-600 transition">OK</button>
                </div>
                <div class="mt-3 flex gap-4">
                    <button onclick="toggleInfo(${idx}, 'hint')" class="text-[10px] font-bold text-blue-500">–ü–Ü–î–ö–ê–ó–ö–ê</button>
                    <button onclick="toggleInfo(${idx}, 'sol')" class="text-[10px] font-bold text-slate-300 ml-auto">–†–û–ó–í'–Ø–ó–û–ö</button>
                </div>
                <div id="hint-${idx}" class="hidden mt-2 p-3 bg-blue-50 rounded-xl text-xs text-blue-700 italic">üí° ${task.h}</div>
                <div id="sol-${idx}" class="hidden mt-2 p-3 bg-slate-100 rounded-xl text-xs font-mono">${task.s}</div>
            `;
            container.appendChild(div);
        });
        MathJax.typeset();
    }

    function checkTask(idx) {
        const val = document.getElementById(`input-${idx}`).value.trim().toLowerCase().replace(',', '.');
        if (val === tasksData[idx].a.toLowerCase().replace(',', '.')) {
            if (!document.getElementById(`task-${idx}`).classList.contains('solved-card')) {
                solvedCount++;
                updateProgress();
            }
            document.getElementById(`task-${idx}`).classList.add('solved-card');
            document.getElementById(`check-${idx}`).classList.remove('hidden');
        } else {
            const el = document.getElementById(`input-${idx}`);
            el.classList.add('border-red-500');
            setTimeout(() => el.classList.remove('border-red-500'), 500);
        }
    }

    function updateProgress() {
        const p = (solvedCount / tasksData.length) * 100;
        document.getElementById('prog-bar').style.width = p + '%';
        document.getElementById('prog-label').innerText = `–ü—Ä–æ–≥—Ä–µ—Å: ${solvedCount}/${tasksData.length}`;
        if (solvedCount === tasksData.length) {
            document.getElementById('test-zone').classList.remove('hidden');
            initTest();
        }
    }

    function initTest() {
        const cont = document.getElementById('test-questions');
        if (cont.innerHTML !== "") return;
        testData.forEach((t, i) => {
            cont.innerHTML += `<div class="p-4 bg-white/5 rounded-2xl border border-white/10">
                <p class="mb-3 text-lg">${i+1}. ${t.q}</p>
                <input type="text" id="test-input-${i}" class="w-full bg-transparent border-b-2 border-white/20 outline-none focus:border-blue-400 py-2">
            </div>`;
        });
        MathJax.typeset();
    }

    function checkTest() {
        let correct = 0;
        testData.forEach((t, i) => {
            const v = document.getElementById(`test-input-${i}`).value.trim().replace(',', '.');
            if (v === t.a) correct++;
        });
        alert(`–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: ${correct} –∑ ${testData.length}`);
    }

    function toggleInfo(idx, type) {
        const el = document.getElementById(`${type}-${idx}`);
        el.classList.toggle('hidden');
    }

    // Canvas Logic
    const canvas = document.getElementById('whiteboard');
    const ctx = canvas.getContext('2d');
    let drawing = false, tool = 'pen';
    function initCanvas() {
        const p = document.getElementById('canvas-parent');
        canvas.width = p.clientWidth; canvas.height = p.clientHeight;
        ctx.lineCap = 'round'; ctx.lineWidth = 3;
    }
    function setTool(t) { tool = t; 
        document.getElementById('btn-pen').className = t==='pen'?'p-3 rounded-xl tool-active':'p-3 rounded-xl hover:bg-slate-100';
        document.getElementById('btn-eraser').className = t==='eraser'?'p-3 rounded-xl tool-active':'p-3 rounded-xl hover:bg-slate-100';
    }
    canvas.onmousedown = (e) => { drawing = true; ctx.beginPath(); const pos = getPos(e); ctx.moveTo(pos.x, pos.y); };
    canvas.onmousemove = (e) => { if (!drawing) return; const pos = getPos(e); 
        ctx.strokeStyle = tool === 'eraser' ? '#ffffff' : '#1e293b';
        ctx.lineWidth = tool === 'eraser' ? 30 : 3;
        ctx.lineTo(pos.x, pos.y); ctx.stroke();
    };
    window.onmouseup = () => drawing = false;
    function getPos(e) { const r = canvas.getBoundingClientRect(); return { x: e.clientX-r.left, y: e.clientY-r.top }; }
    function clearCanvas() { ctx.clearRect(0,0,canvas.width,canvas.height); }

    function finishLesson() {
        const score = Math.round((solvedCount / tasksData.length) * 100);
        document.getElementById('res-score').innerText = `${score}% (${solvedCount}/30)`;
        document.getElementById('res-msg').innerText = score > 80 ? "–¢–∏ ‚Äî –≤–æ–ª–æ–¥–∞—Ä —Ä–∞–¥–∏–∫–∞–ª—ñ–≤!" : "–ù–µ–ø–æ–≥–∞–Ω–æ, –∞–ª–µ –ø–æ—Ç—Ä–µ–Ω—É–π—Å—è —â–µ!";
        document.getElementById('modal').classList.remove('hidden');
    }

    window.onload = () => { initTasks(); initCanvas(); };
</script>
</body>
</html>
